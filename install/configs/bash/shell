# History control
shopt -s histappend cmdhist
HISTCONTROL=ignoreboth:erasedups
HISTSIZE=100000
HISTFILESIZE="${HISTSIZE}"
# Share history across shells live
PROMPT_COMMAND='history -a; history -n; '"$PROMPT_COMMAND"

# Autocompletion
if [[ ! -v BASH_COMPLETION_VERSINFO && -f /usr/share/bash-completion/bash_completion ]]; then
  source /usr/share/bash-completion/bash_completion
fi

# ===== PATH hygiene =====
# helper: append path if missing
pathmunge() { case ":$PATH:" in *":$1:") ;; *) export PATH="$PATH:$1";; esac; }
# keep user bins ahead of system, but avoid leading ./ for security
pathmunge "$HOME/.config/Sploodge/bin"
pathmunge "$HOME/.local/share/sokratOS/bin"

case ":$PATH:" in
  *":$HOME/.local/bin:"*) ;; # already in PATH
  *) export PATH="$HOME/.local/bin:$PATH" ;;
esac

# Ensure command hashing is ON
set -h
